/*! echo.js v1.6.0 | (c) 2015 @toddmotto | https://github.com/toddmotto/echo */
!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e:t.echo=e(t)}(this,function(t){"use strict";var e,n,o,r,i={},c=function(){},a=function(t,e){var n=t.getBoundingClientRect();return n.right>=e.l&&n.bottom>=e.t&&n.left<=e.r&&n.top<=e.b},d=function(){clearTimeout(n),n=setTimeout(i.render,o)};return i.isInitialized=!1,i.init=function(t){i.isInitialized=!0,t=t||{};var n=t.offset||0,a=t.offsetVertical||n,d=t.offsetHorizontal||n,l=function(t,e){return parseInt(t||e,10)};e={t:l(t.offsetTop,a),b:l(t.offsetBottom,a),l:l(t.offsetLeft,d),r:l(t.offsetRight,d)},o=l(t.throttle,250),r=!!t.unload,c=t.callback||c,i.render(),i.attach()},i.render=function(){for(var n,o,d=document.querySelectorAll("img[data-echo]"),l=d.length,u={l:0-e.l,t:0-e.t,b:(t.innerHeight||document.documentElement.clientHeight)+e.b,r:(t.innerWidth||document.documentElement.clientWidth)+e.r},f=0;l>f;f++)o=d[f],a(o,u)?(r&&o.setAttribute("data-echo-placeholder",o.src),o.src=o.getAttribute("data-echo"),r||o.removeAttribute("data-echo"),c(o,"load")):r&&(n=o.getAttribute("data-echo-placeholder"))&&(o.src=n,o.removeAttribute("data-echo-placeholder"),c(o,"unload"));l||i.detach()},i.attach=function(){document.addEventListener?(t.addEventListener("scroll",d,!1),t.addEventListener("load",d,!1)):(t.attachEvent("onscroll",d),t.attachEvent("onload",d))},i.detach=function(){document.removeEventListener?t.removeEventListener("scroll",d):t.detachEvent("onscroll",d),clearTimeout(n)},i});